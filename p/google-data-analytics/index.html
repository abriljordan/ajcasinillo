<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Google Data Analytics Project"><title>Data Analytics Project</title>
<link rel=canonical href=https://abriljordan.github.io/ajcasinillo/p/google-data-analytics/><link rel=stylesheet href=/ajcasinillo/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Data Analytics Project"><meta property='og:description' content="Google Data Analytics Project"><meta property='og:url' content='https://abriljordan.github.io/ajcasinillo/p/google-data-analytics/'><meta property='og:site_name' content='Abril Jordan Casinillo'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='postgresql'><meta property='article:tag' content='SQL'><meta property='article:tag' content='Tableau'><meta property='article:published_time' content='2023-08-15T00:00:00+00:00'><meta property='article:modified_time' content='2023-08-15T00:00:00+00:00'><meta name=twitter:title content="Data Analytics Project"><meta name=twitter:description content="Google Data Analytics Project"><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky compact"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/ajcasinillo/><img src=/ajcasinillo/img/profile-pic_hu15071109175103309632.jpeg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üç•</span></figure><div class=site-meta><h1 class=site-name><a href=/ajcasinillo>Abril Jordan Casinillo</a></h1><h2 class=site-description>Copy and Paste</h2></div></header><ol class=menu-social><li><a href=https://github.com/abriljordan/ajcasinillo target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/ajcasinillo/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/ajcasinillo/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/ajcasinillo/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#ask>Ask</a></li><li><a href=#prepare>Prepare</a></li><li><a href=#process>Process</a><ol><li><a href=#merge-datasets>Merge datasets</a></li><li><a href=#view-datasets>View datasets</a></li><li><a href=#delete-null>Delete NULL</a></li><li><a href=#add-new-columns>Add new columns</a></li></ol></li><li><a href=#analyze>Analyze</a><ol><li><a href=#avg-ride-length>AVG Ride Length</a></li><li><a href=#max-ride-length>MAX ride length</a></li><li><a href=#total-trips>Total trips</a></li><li><a href=#median-ride-length--or-trip-duration>Median ride length or trip duration</a></li><li><a href=#busiest-day-for-rides>Busiest day for rides</a></li><li><a href=#median-ride-length-per-day>Median ride length per day</a></li><li><a href=#total-rides-per-day>Total rides per day</a></li><li><a href=#average-ride_length-for-users-by-day_of_week>Average ride_length for users by day_of_week</a></li><li><a href=#number-of-rides-for-users-by-day_of_week>Number of rides for users by day_of_week</a></li></ol></li><li><a href=#share>Share</a><ol><li><a href=#types-of-rides>Types of rides</a></li><li><a href=#rides-for-each-week>Rides for each week</a></li><li><a href=#rides-per-month>Rides per month</a></li><li><a href=#monthly-average>Monthly average</a></li><li><a href=#weekly-average>Weekly average</a></li></ol></li><li><a href=#three-recommendations-based-on-analysis>Three recommendations based on analysis</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/ajcasinillo/categories/data-analytics/>Data Analytics</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/ajcasinillo/p/google-data-analytics/>Data Analytics Project</a></h2><h3 class=article-subtitle>Google Data Analytics Project</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Aug 15, 2023</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>6 minute read</time></div></footer></div></header><section class=article-content><h2 id=ask>Ask</h2><p>Business task</p><p>You are a junior data analyst working in the marketing analyst team at Cyclistic, a bike-share company in Chicago. The director of marketing believes the company‚Äôs future success depends on maximizing the number of annual memberships. Therefore, your team wants to understand how casual riders and annual members use Cyclistic bikes differently. From these insights, your team will design a new marketing strategy to convert casual riders into annual members. But first, Cyclistic executives must approve your recommendations, so they must be backed up with compelling data insights and professional data visualizations.</p><h2 id=prepare>Prepare</h2><p><strong>Data sources</strong></p><p>We‚Äôll be using Cyclistic‚Äôs historical bike trip data from the last 12 months, January - December 2021, which is publicly available here: <a class=link href=https://divvy-tripdata.s3.amazonaws.com/index.html target=_blank rel=noopener>https://divvy-tripdata.s3.amazonaws.com/index.html</a>. There are 12 .csv files total.</p><p>It is organized in rows and columns. Each rows represents one trip, and each trip has a unique field that identifies it: ride_id. Each trip is anonymized and includes the following fields:</p><h2 id=process>Process</h2><p><strong>Cleaning or manipulation of data</strong></p><p>Our task requires three libraries ‚Äî Pandas, Glob, and the OS module and PostgreSQL as our database.</p><h3 id=merge-datasets>Merge datasets</h3><p>Merge all 12 months of datasets using a simple python script:</p><details><summary>Code example</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>glob</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#find all csv files in the folder</span>
</span></span><span class=line><span class=cl><span class=c1>#use glob pattern matching -&gt; extension = &#39;csv&#39;</span>
</span></span><span class=line><span class=cl><span class=c1>#save result in list -&gt; all_filenames</span>
</span></span><span class=line><span class=cl><span class=n>extension</span> <span class=o>=</span> <span class=s1>&#39;csv&#39;</span>
</span></span><span class=line><span class=cl><span class=n>all_filenames</span> <span class=o>=</span> <span class=p>[</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>glob</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s1>&#39;*.</span><span class=si>{}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>extension</span><span class=p>))]</span>
</span></span><span class=line><span class=cl><span class=c1>#print(all_filenames)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#combine all files in the list</span>
</span></span><span class=line><span class=cl><span class=n>combined_csv</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>concat</span><span class=p>([</span><span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=n>f</span><span class=p>)</span> <span class=k>for</span> <span class=n>f</span> <span class=ow>in</span> <span class=n>all_filenames</span> <span class=p>])</span>
</span></span><span class=line><span class=cl><span class=c1>#export to csv</span>
</span></span><span class=line><span class=cl><span class=n>combined_csv</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span> <span class=s2>&#34;combined_csv.csv&#34;</span><span class=p>,</span> <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s1>&#39;utf-8-sig&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div></details><h3 id=view-datasets>View datasets</h3><p>After merging the 12 datasets, import to Postgres database. The dataset has a total of 5,595,063 rows.
Use the SQL statement below to view all rows.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=n>SELET</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tripdata</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Use the SQL statement below to view 1,006,761 rows with null values.</p><details><summary>Code example</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tripdata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>start_station_name</span><span class=w> </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>start_station_id</span><span class=w> </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>end_station_name</span><span class=w> </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>end_station_id</span><span class=w> </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>start_lat</span><span class=w>  </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>start_lng</span><span class=w> </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>end_lat</span><span class=w>  </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>end_lng</span><span class=w>  </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>member_casual</span><span class=w> </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>started_at</span><span class=w> </span><span class=k>ASC</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></details><h3 id=delete-null>Delete NULL</h3><p>Use the SQL statement below to delete 1,006,761 rows with null values. After deletion, 4,588,302 rows left.</p><details><summary>Code example</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>DELETE</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tripdata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>started_at</span><span class=w> </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ended_at</span><span class=w> </span><span class=k>IS</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>start_station_name</span><span class=w> </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>start_station_id</span><span class=w> </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>end_station_name</span><span class=w> </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>end_station_id</span><span class=w> </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>start_lat</span><span class=w>  </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>start_lng</span><span class=w> </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>end_lat</span><span class=w>  </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>end_lng</span><span class=w>  </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=k>OR</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>member_casual</span><span class=w> </span><span class=k>IS</span><span class=w>  </span><span class=k>NULL</span><span class=w> </span><span class=p>;</span><span class=w> 
</span></span></span></code></pre></td></tr></table></div></div></details><p>We are going to delete also rows with zero or less than zero values. To delete the rows, use the SQL statement below:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=w>    </span><span class=k>delete</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tripdata</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>ride_length</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>delete</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>tripdata</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>ride_length</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>116 and 82 records deleted respectively. The total remaining rows that needs to be explored are 4,588,104.</p><h3 id=add-new-columns>Add new columns</h3><p>Add new columns and populate with new data.</p><p><strong>day_of_week</strong></p><p>Use the SQL statement below to add day_of_week and populate it with new data by extracting &lsquo;Day&rsquo; from the timestamp.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>--- add new column and populate : day_of_week
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>tripdata</span><span class=w> </span><span class=k>ADD</span><span class=w> </span><span class=k>COLUMN</span><span class=w> </span><span class=n>day_of_week</span><span class=w> </span><span class=nb>TEXT</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>tripdata</span><span class=w> </span><span class=n>o1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SET</span><span class=w> </span><span class=n>day_of_week</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>TO_CHAR</span><span class=p>(</span><span class=n>o1</span><span class=p>.</span><span class=n>started_at</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Day&#39;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>tripdata</span><span class=w> </span><span class=n>o2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>o1</span><span class=p>.</span><span class=n>ride_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o2</span><span class=p>.</span><span class=n>ride_id</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><strong>Month</strong></p><p>Use the SQL statement below to add month and populate it with new data by extracting &lsquo;Month&rsquo; from the timestamp.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>--- add new column and populate : month
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>tripdata</span><span class=w> </span><span class=k>ADD</span><span class=w> </span><span class=k>COLUMN</span><span class=w> </span><span class=k>month</span><span class=w> </span><span class=nb>TEXT</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UPDATE</span><span class=w> </span><span class=n>tripdata</span><span class=w> </span><span class=n>o1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SET</span><span class=w> </span><span class=k>month</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>TO_CHAR</span><span class=p>(</span><span class=n>o1</span><span class=p>.</span><span class=n>started_at</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;Month&#39;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>tripdata</span><span class=w> </span><span class=n>o2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=n>o1</span><span class=p>.</span><span class=n>ride_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>o2</span><span class=p>.</span><span class=n>ride_id</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=analyze>Analyze</h2><p>Summary of analysis</p><h3 id=avg-ride-length>AVG Ride Length</h3><p><strong>AVG ride length</strong></p><p>Use the SQL statement below to compute the average ride length or trip duration (member/casual).</p><details><summary>Code example</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>AVG</span><span class=p>(</span><span class=n>ride_length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>tripdataq</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>AvgRideLength_Overall</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>AVG</span><span class=p>(</span><span class=n>ride_length</span><span class=p>)</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>tripdataq</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>member_casual</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;member&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>AvgRideLength_Member</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>AVG</span><span class=p>(</span><span class=n>ride_length</span><span class=p>)</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>FROM</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>tripdataq</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>WHERE</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>member_casual</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;casual&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>AvgRideLength_Casual</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></details><p><img src=/ajcasinillo/p/google-data-analytics/avg_ride_length.png width=914 height=142 srcset="/ajcasinillo/p/google-data-analytics/avg_ride_length_hu15805682845820621754.png 480w, /ajcasinillo/p/google-data-analytics/avg_ride_length_hu17038455313875937118.png 1024w" loading=lazy alt="Average ride length or trip duration" class=gallery-image data-flex-grow=643 data-flex-basis=1544px></p><p>The average ride length or trip duration for casual riders is 32:30 minutes while for the members is 13:10 minutes.</p><h3 id=max-ride-length>MAX ride length</h3><p><strong>MAX Ride Length</strong></p><p>Use the SQL statement below to compute the maximum ride length or trip duration (member/casual).</p><details><summary>Code example</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>member_casual</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>MAX</span><span class=p>(</span><span class=n>ride_length</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>ride_length_MAX</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>tripdata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>member_casual</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>ride_length_MAX</span><span class=w> </span><span class=k>DESC</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>LIMIT</span><span class=w> </span><span class=mi>2</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></details><p><img src=/ajcasinillo/p/google-data-analytics/max_ride_length.png width=504 height=186 srcset="/ajcasinillo/p/google-data-analytics/max_ride_length_hu17192439296653560614.png 480w, /ajcasinillo/p/google-data-analytics/max_ride_length_hu10904010726712163868.png 1024w" loading=lazy alt="Maximum ride length or trip duration" class=gallery-image data-flex-grow=270 data-flex-basis=650px></p><p>The maximum ride length or trip duration for casual riders is 38 days 20:24:09 hours while for the members is 1 day 55:38 minutes.</p><h3 id=total-trips>Total trips</h3><p><strong>Total trips</strong></p><p>We‚Äôll calculate for annual members and casual riders. We‚Äôll also calculate percentages of overall total for both types:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>member_casual</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>bike_user_type</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>count</span><span class=p>(</span><span class=n>ride_id</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>count_user_type</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ROUND</span><span class=p>(</span><span class=k>count</span><span class=p>(</span><span class=n>ride_id</span><span class=p>)</span><span class=o>*</span><span class=mi>100</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=p>(</span><span class=k>SELECT</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=n>ride_id</span><span class=p>)</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tripdata</span><span class=p>),</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>percentage</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tripdata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>member_casual</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><img src=/ajcasinillo/p/google-data-analytics/total_percent.png width=690 height=186 srcset="/ajcasinillo/p/google-data-analytics/total_percent_hu2692358464363443082.png 480w, /ajcasinillo/p/google-data-analytics/total_percent_hu13226002771843001441.png 1024w" loading=lazy alt=Percentage class=gallery-image data-flex-grow=370 data-flex-basis=890px></p><h3 id=median-ride-length--or-trip-duration>Median ride length or trip duration</h3><p><strong>Median ride length or trip duration</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>member_casual</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>PERCENTILE_CONT</span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>50</span><span class=p>)</span><span class=w> </span><span class=n>WITHIN</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=p>(</span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>trip_duration</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>median</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>tripdata</span><span class=w> </span><span class=n>member_casual</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>member_casual</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><img src=/ajcasinillo/p/google-data-analytics/median.png width=420 height=192 srcset="/ajcasinillo/p/google-data-analytics/median_hu524311331232311520.png 480w, /ajcasinillo/p/google-data-analytics/median_hu4001504364560276245.png 1024w" loading=lazy alt="Median ride length or trip duration" class=gallery-image data-flex-grow=218 data-flex-basis=525px></p><h3 id=busiest-day-for-rides>Busiest day for rides</h3><p><strong>Busiest day for rides</strong></p><p>See which day has the most rides for annual members and casual riders.</p><details><summary>Code example</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>member_casual</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>day_of_week</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>mode_day_of_week</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>DISTINCT</span><span class=w> </span><span class=n>member_casual</span><span class=p>,</span><span class=w> </span><span class=n>day_of_week</span><span class=p>,</span><span class=w> </span><span class=n>ROW_NUMBER</span><span class=p>()</span><span class=w> </span><span class=n>OVER</span><span class=w> </span><span class=p>(</span><span class=n>PARTITION</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>member_casual</span><span class=w> </span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=n>day_of_week</span><span class=p>)</span><span class=w> </span><span class=k>DESC</span><span class=p>)</span><span class=w> </span><span class=n>rn</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>FROM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>tripdata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>member_casual</span><span class=p>,</span><span class=w> </span><span class=n>day_of_week</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>foo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>rn</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>member_casual</span><span class=w> </span><span class=k>DESC</span><span class=w> </span><span class=k>LIMIT</span><span class=w> </span><span class=mi>2</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></details><p><img src=/ajcasinillo/p/google-data-analytics/mode_day_of_week.png width=538 height=190 srcset="/ajcasinillo/p/google-data-analytics/mode_day_of_week_hu2725867007688074338.png 480w, /ajcasinillo/p/google-data-analytics/mode_day_of_week_hu3222947126683229027.png 1024w" loading=lazy alt="Mode day of week" class=gallery-image data-flex-grow=283 data-flex-basis=679px></p><h3 id=median-ride-length-per-day>Median ride length per day</h3><p><strong>Median ride length per day</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>member_casual</span><span class=p>,</span><span class=w> </span><span class=n>day_of_week</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>PERCENTILE_CONT</span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>50</span><span class=p>)</span><span class=w> </span><span class=n>WITHIN</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=p>(</span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>trip_duration</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>median_trip_duration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>tripdata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>member_casual</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;casual&#39;</span><span class=w>               
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>member_casual</span><span class=p>,</span><span class=w> </span><span class=n>day_of_week</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>median_trip_duration</span><span class=w> </span><span class=k>DESC</span><span class=w> </span><span class=k>LIMIT</span><span class=w> </span><span class=mi>7</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><img src=/ajcasinillo/p/google-data-analytics/median_trip_casual.png width=754 height=442 srcset="/ajcasinillo/p/google-data-analytics/median_trip_casual_hu10586427522790284576.png 480w, /ajcasinillo/p/google-data-analytics/median_trip_casual_hu11653750628028899576.png 1024w" loading=lazy alt="Median ride length/trip duration per day" class=gallery-image data-flex-grow=170 data-flex-basis=409px></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>member_casual</span><span class=p>,</span><span class=w> </span><span class=n>day_of_week</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>PERCENTILE_CONT</span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>50</span><span class=p>)</span><span class=w> </span><span class=n>WITHIN</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=p>(</span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>trip_duration</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>median_trip_duration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>tripdata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>member_casual</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;member&#39;</span><span class=w>               
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>member_casual</span><span class=p>,</span><span class=w> </span><span class=n>day_of_week</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>median_trip_duration</span><span class=w> </span><span class=k>DESC</span><span class=w> </span><span class=k>LIMIT</span><span class=w> </span><span class=mi>7</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><img src=/ajcasinillo/p/google-data-analytics/median_trip_member.png width=756 height=430 srcset="/ajcasinillo/p/google-data-analytics/median_trip_member_hu10453333371827050634.png 480w, /ajcasinillo/p/google-data-analytics/median_trip_member_hu8727446753745352440.png 1024w" loading=lazy alt="Median ride length/trip duration per day" class=gallery-image data-flex-grow=175 data-flex-basis=421px></p><h3 id=total-rides-per-day>Total rides per day</h3><p><strong>Total rides per day</strong></p><p>Let‚Äôs look at total rides per day. We‚Äôll calculate for overall total, annual members and casual riders:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>day_of_week</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>COUNT</span><span class=p>(</span><span class=k>DISTINCT</span><span class=w> </span><span class=n>ride_id</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>TotalTrips</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SUM</span><span class=p>(</span><span class=k>CASE</span><span class=w> </span><span class=k>WHEN</span><span class=w> </span><span class=n>member_casual</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;member&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>ELSE</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>END</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>MemberTrips</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SUM</span><span class=p>(</span><span class=k>CASE</span><span class=w> </span><span class=k>WHEN</span><span class=w> </span><span class=n>member_casual</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;casual&#39;</span><span class=w> </span><span class=k>THEN</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>ELSE</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>END</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>CasualTrips</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w>  </span><span class=n>tripdata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>TotalTrips</span><span class=w> </span><span class=k>DESC</span><span class=w> </span><span class=k>LIMIT</span><span class=w> </span><span class=mi>7</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><img src=/ajcasinillo/p/google-data-analytics/total_rides_day.png width=774 height=432 srcset="/ajcasinillo/p/google-data-analytics/total_rides_day_hu14052929077487750764.png 480w, /ajcasinillo/p/google-data-analytics/total_rides_day_hu3072512297133777732.png 1024w" loading=lazy alt="Total rides per day" class=gallery-image data-flex-grow=179 data-flex-basis=430px></p><h3 id=average-ride_length-for-users-by-day_of_week>Average ride_length for users by day_of_week</h3><p><strong>Average ride_length for users by day_of_week</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w>  </span><span class=n>member_casual</span><span class=p>,</span><span class=w> </span><span class=n>day_of_week</span><span class=p>,</span><span class=w> </span><span class=k>AVG</span><span class=p>(</span><span class=n>trip_duration</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>tripdata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>member_casual</span><span class=p>,</span><span class=w> </span><span class=n>day_of_week</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><img src=/ajcasinillo/p/google-data-analytics/average_ride_length_for_users_by_day_of_week.png width=700 height=790 srcset="/ajcasinillo/p/google-data-analytics/average_ride_length_for_users_by_day_of_week_hu4960129280939002412.png 480w, /ajcasinillo/p/google-data-analytics/average_ride_length_for_users_by_day_of_week_hu11309735168187510284.png 1024w" loading=lazy alt="Average ride_length for users by day_of_week" class=gallery-image data-flex-grow=88 data-flex-basis=212px></p><h3 id=number-of-rides-for-users-by-day_of_week>Number of rides for users by day_of_week</h3><p><strong>Number of rides for users by day_of_week</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w>  </span><span class=n>member_casual</span><span class=p>,</span><span class=w> </span><span class=n>day_of_week</span><span class=p>,</span><span class=w> </span><span class=k>COUNT</span><span class=p>(</span><span class=k>DISTINCT</span><span class=w> </span><span class=n>ride_id</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>number_of_rides</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>tripdata</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>member_casual</span><span class=p>,</span><span class=w> </span><span class=n>day_of_week</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><img src=/ajcasinillo/p/google-data-analytics/number_of_rides_for_users_by_day_of_week.png width=714 height=784 srcset="/ajcasinillo/p/google-data-analytics/number_of_rides_for_users_by_day_of_week_hu5323786132020928063.png 480w, /ajcasinillo/p/google-data-analytics/number_of_rides_for_users_by_day_of_week_hu6689586817867603185.png 1024w" loading=lazy alt="Number of rides for users by day_of_week" class=gallery-image data-flex-grow=91 data-flex-basis=218px></p><h2 id=share>Share</h2><p>Visualizations and key findings</p><h3 id=types-of-rides>Types of rides</h3><p><img src=/ajcasinillo/p/google-data-analytics/rides_type_summary.png width=1304 height=1192 srcset="/ajcasinillo/p/google-data-analytics/rides_type_summary_hu571791941942746186.png 480w, /ajcasinillo/p/google-data-analytics/rides_type_summary_hu17608292478201419624.png 1024w" loading=lazy alt="Rides type" class=gallery-image data-flex-grow=109 data-flex-basis=262px></p><p>Too many casual riders. Classic bike is commonly used.</p><h3 id=rides-for-each-week>Rides for each week</h3><p><img src=/ajcasinillo/p/google-data-analytics/rides_week_year.png width=1070 height=1036 srcset="/ajcasinillo/p/google-data-analytics/rides_week_year_hu6341491035320125209.png 480w, /ajcasinillo/p/google-data-analytics/rides_week_year_hu6909077909692858933.png 1024w" loading=lazy alt="Rides for each week in a year" class=gallery-image data-flex-grow=103 data-flex-basis=247px></p><p>Riders love weekends.</p><h3 id=rides-per-month>Rides per month</h3><p><img src=/ajcasinillo/p/google-data-analytics/rides_monthly.png width=2034 height=1034 srcset="/ajcasinillo/p/google-data-analytics/rides_monthly_hu4650915019060631089.png 480w, /ajcasinillo/p/google-data-analytics/rides_monthly_hu4813851849632451361.png 1024w" loading=lazy alt="Rides per month" class=gallery-image data-flex-grow=196 data-flex-basis=472px></p><h3 id=monthly-average>Monthly average</h3><p><img src=/ajcasinillo/p/google-data-analytics/avg_ride_per_month.png width=2066 height=1040 srcset="/ajcasinillo/p/google-data-analytics/avg_ride_per_month_hu5180283744033696836.png 480w, /ajcasinillo/p/google-data-analytics/avg_ride_per_month_hu7189293415953954555.png 1024w" loading=lazy alt="Average ride length per month (minutes)" class=gallery-image data-flex-grow=198 data-flex-basis=476px></p><h3 id=weekly-average>Weekly average</h3><p><img src=/ajcasinillo/p/google-data-analytics/avg_ride_minutes_day_of_week.png width=1820 height=1026 srcset="/ajcasinillo/p/google-data-analytics/avg_ride_minutes_day_of_week_hu5758312379002432415.png 480w, /ajcasinillo/p/google-data-analytics/avg_ride_minutes_day_of_week_hu10471716616780236890.png 1024w" loading=lazy alt="Average ride length day_of_week (minutes)" class=gallery-image data-flex-grow=177 data-flex-basis=425px></p><h2 id=three-recommendations-based-on-analysis>Three recommendations based on analysis</h2><p>Casual riders ride longer than members. They also have more rides on weekends than members. Show casual riders why membership is better.</p><ol><li><p>Show casual riders how they can save money by purchasing memberships as they ride longer</p></li><li><p>Run marketing campaigns targeting casual riders during weekends</p></li><li><p>Run marketing campaigns targeting casual riders during summer months</p></li></ol></section><footer class=article-footer><section class=article-tags><a href=/ajcasinillo/tags/postgresql/>Postgresql</a>
<a href=/ajcasinillo/tags/sql/>SQL</a>
<a href=/ajcasinillo/tags/tableau/>Tableau</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Aug 15, 2023 00:00 UTC</span></section></footer></article><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 Abril Jordan Casinillo</section><section class=powerby>Hello world!<br>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ajcasinillo/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>